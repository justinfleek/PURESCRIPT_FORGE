# Reindeer configuration for isospin third-party Rust dependencies
# See: https://github.com/facebookincubator/reindeer

# Path to Cargo.toml
manifest_path = "Cargo.toml"

# Output directory (relative to this file's directory)
third_party_dir = "."

# Vendor crate sources locally
vendor = true

# Use glob patterns instead of precise source detection
# (precise_srcs can miss files for complex crates like serde)
precise_srcs = false

# Include top-level package as public target
include_top_level = false

# Environment variables are now handled automatically by reindeer

[buck]
# Name of generated Buck file
file_name = "BUCK"

# Optional: front matter for generated BUCK file
buckfile_imports = """
# Generated by reindeer - do not edit manually
# Regenerate with: reindeer --third-party-dir=third-party/rust buckify
"""

# Only target Linux x86_64 - this avoids platform-specific rules
# that the bundled prelude doesn't support
[platform.linux-x86_64]
target = "x86_64-unknown-linux-gnu"

[platform.linux-arm64]
target = "aarch64-unknown-linux-gnu"
